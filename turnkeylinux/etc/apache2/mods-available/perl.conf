<IfModule perl_module>
PerlModule Apache2::compat
PerlSetEnv HTTPD_LOCAL_ROOT ${HTTPD_LOCAL_ROOT}
PerlPostConfigRequire ${HTTPD_LOCAL_ROOT}/conf/startup.pl
<Location /HomeAutomationStart>
	SetHandler modperl
	PerlResponseHandler HomeAutomation::StartMonitor
        PerlSetVar HTTPD_LOCAL_ROOT ${HTTPD_LOCAL_ROOT}
	PerlSetVar LogFile ${HTTPD_LOCAL_ROOT}/htdocs/insteon/logfile.txt
        PerlSetVar HvacDir ${HTTPD_LOCAL_ROOT}/../hvac
        Order Allow,Deny
	Allow from 127.0.0.1
	Satisfy any
</Location>

ScriptAlias /HomeAutomation/ ${HTTPD_LOCAL_ROOT}/HomeAutomation/
<Location /HomeAutomation/>
	SetHandler perl-script
	PerlHandler ModPerl::Registry
	PerlOptions +ParseHeaders
	Options +ExecCGI
	PerlSendHeader On
    AuthType Basic
    AuthName "Secured"
    AuthUserFile ${HTTPD_LOCAL_ROOT}/conf/htusers
    Require valid-user
    Order Allow,Deny
	Allow from 127.0.0.1
	Satisfy any
</Location>
</IfModule>

